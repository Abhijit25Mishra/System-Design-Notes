
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://abhijit25mishra.github.io/System-Design-Notes/ProtoBuf/Interface%20Definition%20Language/">
      
      
        <link rel="prev" href="../Best%20Practices%20for%20Protobuf/">
      
      
        <link rel="next" href="../ProtoBuf%20VS%20JSON%20VS%20XML/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Interface Definition Language - System Design Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#idl" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="System Design Notes" class="md-header__button md-logo" aria-label="System Design Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            System Design Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Interface Definition Language
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="System Design Notes" class="md-nav__button md-logo" aria-label="System Design Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    System Design Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Architectural%20choice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architectural choice
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Database%20per%20Service%20pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database per Service pattern
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Domain%20Driven%20Design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain Driven Design
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Event%20Sourcing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Sourcing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Inter-Service%20Communication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inter Service Communication
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SAGA%20pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SAGA pattern
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../When%20to%20create%20or%20extend%20a%20service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    When to create or extend a service
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    ProtoBuf
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            ProtoBuf
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Best%20Practices%20for%20Protobuf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Best Practices for Protobuf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Interface Definition Language
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Interface Definition Language
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#idl" class="md-nav__link">
    <span class="md-ellipsis">
      IDL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IDL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importing" class="md-nav__link">
    <span class="md-ellipsis">
      Importing:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-numbertag" class="md-nav__link">
    <span class="md-ellipsis">
      Field Number/Tag
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Field Number/Tag">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_1" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    <span class="md-ellipsis">
      Function:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniqueness-and-immutability" class="md-nav__link">
    <span class="md-ellipsis">
      Uniqueness and Immutability:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-implications" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Implications:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-cardinality" class="md-nav__link">
    <span class="md-ellipsis">
      Field Cardinality
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#services-for-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      Services for RPC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Services for RPC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_2" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc-methods" class="md-nav__link">
    <span class="md-ellipsis">
      RPC Methods:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streaming" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ProtoBuf%20VS%20JSON%20VS%20XML/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ProtoBuf VS JSON VS XML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ProtoBuf%20Workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ProtoBuf Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ProtoBuf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ProtoBuf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Protoc%20Compiler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Protoc Compiler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Serializing%20and%20Deserializing%20in%20ProtoBuf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Serializing and Deserializing in ProtoBuf
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#idl" class="md-nav__link">
    <span class="md-ellipsis">
      IDL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IDL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importing" class="md-nav__link">
    <span class="md-ellipsis">
      Importing:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-numbertag" class="md-nav__link">
    <span class="md-ellipsis">
      Field Number/Tag
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Field Number/Tag">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_1" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    <span class="md-ellipsis">
      Function:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniqueness-and-immutability" class="md-nav__link">
    <span class="md-ellipsis">
      Uniqueness and Immutability:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-implications" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Implications:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-cardinality" class="md-nav__link">
    <span class="md-ellipsis">
      Field Cardinality
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#services-for-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      Services for RPC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Services for RPC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_2" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc-methods" class="md-nav__link">
    <span class="md-ellipsis">
      RPC Methods:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streaming" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Interface Definition Language</h1>

<h2 id="idl">IDL</h2>
<p>The fundamental unit of data structure in [[Protobuf]] is the message. A message is a logical record of information, analogous to a class in Java or a struct in C++ or Go.</p>
<h3 id="syntax">Syntax:</h3>
<p>A message is declared using the message keyword, followed by its name and a pair of curly braces enclosing its field definitions.29</p>
<p>```Protocol Buffers
message SongRequest {<br />
  string song_name = 1;<br />
  int64 artist_id = 2;<br />
}  </p>
<pre><code>

### Naming Conventions:

The official Protobuf style guide recommends using **TitleCase**  **for message names** and **lower_snake_case for field names**. Following these conventions ensures that the generated code is idiomatic in the target languages, as the compiler often transforms lower_snake_case into the conventional style of the target language (e.g., camelCase in Java).

### Nested Messages:

Messages can be defined within the scope of other messages. This is useful for grouping related data structures and creating a logical namespace.

```Protocol Buffers

message SearchResponse {  
  message Result {  
    string url = 1;  
    string title = 2;  
  }  
  repeated Result results = 1;  
}  
</code></pre>
<p>Here, Result is a nested message type that can only be accessed within the context of SearchResponse (e.g., SearchResponse.Result in generated code).</p>
<h3 id="importing">Importing:</h3>
<p>Messages can be defined out of the scope of the message, i.e in a different file, this can be later imported into the required message. </p>
<blockquote>
<p><strong>result.proto</strong>
```Protocol Buffers
syntax = "proto3";</p>
</blockquote>
<p>package search;</p>
<p>// Define Result independently
message Result {
  string url = 1;
  string title = 2;
}</p>
<pre><code>
&gt; **search_response.proto**
``` Protocol Buffers
syntax = &quot;proto3&quot;;

package search;

import &quot;result.proto&quot;; // Import the external message definition

message SearchResponse {
  repeated Result results = 1; // Use it directly since it shares the same package
}
</code></pre>
<h2 id="field-numbertag">Field Number/Tag</h2>
<h3 id="syntax_1">Syntax:</h3>
<p>Every field in a message must be assigned a unique positive integer number.</p>
<blockquote>
<p>type field_name = 1;</p>
</blockquote>
<h3 id="function">Function:</h3>
<p>These field numbers, not the field names, are what identify the fields in the compact binary wire format. When a message is serialized, the output is a series of key-value pairs where the key is derived from the field number and a wire type. This design is a primary reason for Protobuf's efficiency and compactness, as it avoids sending verbose string keys (like in JSON) over the network.</p>
<h3 id="uniqueness-and-immutability">Uniqueness and Immutability:</h3>
<p>The rules governing field numbers are strict and are the bedrock of Protobuf's schema evolution capabilities:</p>
<ul>
<li>The number must be unique within that message.</li>
<li>Once a field number is used in a production system, it must never be changed.</li>
<li>A field number from a deleted field should never be reused for a new field. Instead, the old number should be marked as reserved to prevent future accidents.</li>
</ul>
<p>Violating these rules can lead to severe data corruption, as a parser using a newer schema could completely misinterpret data written by an older one. The stability of these numbers is the central pillar of Protobuf's compatibility contract. This prioritization of long-term stability over short-term developer convenience necessitates strong governance over .proto files, including strict code review policies and the use of automated tools to prevent accidental changes to field numbers.</p>
<h3 id="performance-implications">Performance Implications:</h3>
<p>The choice of field number has a direct impact on the size of the serialized message. Field numbers in the range 1 through 15 require only one byte to encode the key (tag + wire type). Numbers in the range 16 through 2047 take two bytes. For this reason, the most frequently used or repeated fields should be assigned the lowest available field numbers.</p>
<p>Reserved Ranges:</p>
<p>The field numbers from 19,000 to 19,999 are reserved for the internal implementation of Protocol Buffers and cannot be used.</p>
<h2 id="field-cardinality">Field Cardinality</h2>
<p>Each field in a message must have a cardinality, which specifies how many times that field can appear.</p>
<ul>
<li>
<p>Singular Fields: The field can appear at most once in a message. The handling of singular fields differs significantly between Protobuf versions and is a key concept to master.</p>
</li>
<li>
<p>optional (Explicit Presence): This is the recommended approach for modern Protobuf (proto3 with the optional keyword, and the default in editions). It means the system can distinguish between a field that was not set and a field that was explicitly set to its default value (e.g., 0 for an integer). The generated code includes a has_...() method to perform this check.</p>
</li>
<li>
<p>Implicit Presence: This was the original default for scalar fields in proto3. A field holding its default value (e.g., 0, false, "") is not serialized. This makes it impossible for the receiver to know if the sender intentionally set the value to 0 or simply omitted the field. This ambiguity can lead to bugs and is why explicit presence is now favored.    </p>
</li>
<li>
<p>repeated Fields: The field can be repeated any number of times (including zero). This is used to represent lists, arrays, or sequences of values. The order of the elements is preserved. The style guide recommends using pluralized names for repeated fields (e.g., repeated Song songs).</p>
</li>
<li>
<p>required Fields (proto2 only, Deprecated): This keyword, available only in proto2, specifies that a value for the field must be provided. While seemingly useful for validation, it proved to be extremely problematic for schema evolution. A field marked as required can never be safely made optional or removed without breaking older clients, which will reject messages that are missing the field. For this reason, its use is strongly discouraged, and it was removed entirely from proto3 and editions.</p>
</li>
</ul>
<h2 id="services-for-rpc">Services for RPC</h2>
<p><strong>In addition to defining data structures, .proto files are the standard way to define service interfaces for RPC frameworks like gRPC.</strong></p>
<h3 id="syntax_2">Syntax:</h3>
<p>A service is defined using the service keyword, containing a list of rpc methods.  </p>
<p><code>Protocol Buffers  
service SearchService {  
  rpc Search(SearchRequest) returns (SearchResponse);  
}</code> </p>
<h3 id="rpc-methods">RPC Methods:</h3>
<p>Each rpc method specifies its name, its request message type, and its response message type. The compiler uses this definition to generate client stubs and server interface skeletons.    </p>
<h3 id="streaming">Streaming:</h3>
<p>The stream keyword can be prepended to the request and/or response types to define different communication patterns, which are a core feature of gRPC: 
- Unary RPC: rpc Method(Request) returns (Response); (the default)</p>
<ul>
<li>
<p>Server Streaming RPC: rpc Method(Request) returns (stream Response);</p>
</li>
<li>
<p>Client Streaming RPC: rpc Method(stream Request) returns (Response);</p>
</li>
<li>
<p>Bidirectional Streaming RPC: rpc Method(stream Request) returns (stream Response);</p>
</li>
</ul>
<p>**</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.sections", "navigation.top", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>